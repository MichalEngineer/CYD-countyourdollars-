\doxysection{Spendings\+Page.\+xaml.\+cs}
\hypertarget{_spendings_page_8xaml_8cs_source}{}\label{_spendings_page_8xaml_8cs_source}\index{CYD/Pages/SpendingsPage.xaml.cs@{CYD/Pages/SpendingsPage.xaml.cs}}
\mbox{\hyperlink{_spendings_page_8xaml_8cs}{Id≈∫ do dokumentacji tego pliku.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00001}00001\ \textcolor{keyword}{using\ }System;}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00002}00002\ \textcolor{keyword}{using\ }System.Collections.Generic;}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00003}00003\ \textcolor{keyword}{using\ }System.Threading.Tasks;}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00004}00004\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespace_c_y_d_1_1_services}{CYD.Services}};}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00005}00005\ \textcolor{keyword}{using\ }Microsoft.Maui.Controls;}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00007}00007\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_c_y_d_1_1_pages}{CYD.Pages}}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00008}00008\ \{}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00013}\mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page}{00013}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{partial\ class\ }\mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page}{SpendingsPage}}\ :\ ContentPage}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00014}00014\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00015}\mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_a9aad991c5c161475e35feed957ee9049}{00015}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ readonly\ \mbox{\hyperlink{class_c_y_d_1_1_services_1_1_firebase_database_service}{FirebaseDatabaseService}}\ \mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_a9aad991c5c161475e35feed957ee9049}{\_firebaseService}};\ }
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00016}\mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_a7fb03eae498324c23f201f31919b390e}{00016}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ readonly\ \mbox{\hyperlink{class_firebase_auth_service}{FirebaseAuthService}}\ \mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_a7fb03eae498324c23f201f31919b390e}{\_authService}};\ }
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00021}\mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_aaccc3b5e04d16b62aad3b31dc05c3446}{00021}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_aaccc3b5e04d16b62aad3b31dc05c3446}{SpendingsPage}}()}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00022}00022\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00023}00023\ \ \ \ \ \ \ \ \ \ \ \ \ InitializeComponent();\ \textcolor{comment}{//<-\/-\/-\/\ Inicjalizacja\ komponentÛw UI.}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00024}00024\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_a9aad991c5c161475e35feed957ee9049}{\_firebaseService}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_c_y_d_1_1_services_1_1_firebase_database_service}{FirebaseDatabaseService}}();\ \textcolor{comment}{//<-\/-\/-\/\ Inicjalizacja\ serwisu\ bazy\ danych.}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00025}00025\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_a7fb03eae498324c23f201f31919b390e}{\_authService}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_firebase_auth_service}{FirebaseAuthService}}();\ \textcolor{comment}{//<-\/-\/-\/\ Inicjalizacja\ serwisu\ uwierzytelniania.}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00026}00026\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_a3d51b3571e56690c2cee159fcef6568b}{LoadSpendings}}();\ \textcolor{comment}{//<-\/-\/-\/\ £adowanie\ wydatkÛw.}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00027}00027\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00032}\mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_a3d51b3571e56690c2cee159fcef6568b}{00032}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ async\ Task\ \mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_a3d51b3571e56690c2cee159fcef6568b}{LoadSpendings}}()}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00033}00033\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00034}00034\ \ \ \ \ \ \ \ \ \ \ \ \ LoadingIndicator.IsRunning\ =\ \textcolor{keyword}{true};\ \textcolor{comment}{//<-\/-\/-\/\ Pokazanie\ wskaünika\ ≥adowania.}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ LoadingIndicator.IsVisible\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00037}00037\ \ \ \ \ \ \ \ \ \ \ \ \ var\ isLoggedIn\ =\ await\ \mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_a7fb03eae498324c23f201f31919b390e}{\_authService}}.\mbox{\hyperlink{class_firebase_auth_service_a0e29b677d4202844cad416e34bc76979}{IsUserLoggedInAsync}}();\ \textcolor{comment}{//<-\/-\/-\/\ Sprawdzenie,\ czy\ uøytkownik\ jest\ zalogowany.}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!isLoggedIn)}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00040}00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ await\ DisplayAlert(\textcolor{stringliteral}{"{}Error"{}},\ \textcolor{stringliteral}{"{}User\ not\ logged\ in."{}},\ \textcolor{stringliteral}{"{}OK"{}});\ \textcolor{comment}{//<-\/-\/-\/\ Komunikat\ o\ b≥Ídzie.}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00041}00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ var\ userEmail\ =\ await\ \mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_a7fb03eae498324c23f201f31919b390e}{\_authService}}.\mbox{\hyperlink{class_firebase_auth_service_ae120ed9067385598b3a99ddb9f25411a}{GetCurrentUserEmailAsync}}();\ \textcolor{comment}{//<-\/-\/-\/\ Pobranie\ adresu\ e-\/mail\ uøytkownika.}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00045}00045\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{string}.IsNullOrEmpty(userEmail)\ ||\ userEmail\ ==\ \textcolor{stringliteral}{"{}User\ not\ logged\ in"{}})}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00047}00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ await\ DisplayAlert(\textcolor{stringliteral}{"{}Error"{}},\ \textcolor{stringliteral}{"{}Failed\ to\ retrieve\ user\ email."{}},\ \textcolor{stringliteral}{"{}OK"{}});\ \textcolor{comment}{//<-\/-\/-\/\ Komunikat\ o\ b≥Ídzie.}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00048}00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00051}00051\ \ \ \ \ \ \ \ \ \ \ \ \ var\ sanitizedEmail\ =\ userEmail.Replace(\textcolor{stringliteral}{"{}@"{}},\ \textcolor{stringliteral}{"{}-\/at-\/"{}}).Replace(\textcolor{stringliteral}{"{}."{}},\ \textcolor{stringliteral}{"{}-\/dot-\/"{}});\ \textcolor{comment}{//<-\/-\/-\/\ Sanitacja\ adresu\ e-\/mail.}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00052}00052\ \ \ \ \ \ \ \ \ \ \ \ \ var\ spendings\ =\ await\ \mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_a9aad991c5c161475e35feed957ee9049}{\_firebaseService}}.\mbox{\hyperlink{class_c_y_d_1_1_services_1_1_firebase_database_service_a475e373fad453d44a3b1e275e0db3925}{GetSpendingsAsync}}(sanitizedEmail);\ \textcolor{comment}{//<-\/-\/-\/\ Pobranie\ wydatkÛw.}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ SpendingsListView.ItemsSource\ =\ spendings;\ \textcolor{comment}{//<-\/-\/-\/\ Przypisanie\ danych\ do\ ListView.}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ SpendingsListView.IsVisible\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00056}00056\ }
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \ \ \ LoadingIndicator.IsRunning\ =\ \textcolor{keyword}{false};\ \textcolor{comment}{//<-\/-\/-\/\ Ukrycie\ wskaünika\ ≥adowania.}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00058}00058\ \ \ \ \ \ \ \ \ \ \ \ \ LoadingIndicator.IsVisible\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00059}00059\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00066}\mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_a2803c6daa689ed8d54369a638f189bf4}{00066}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ async\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_a2803c6daa689ed8d54369a638f189bf4}{OnRefreshButtonClicked}}(\textcolor{keywordtype}{object}\ sender,\ EventArgs\ e)}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00067}00067\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00068}00068\ \ \ \ \ \ \ \ \ \ \ \ \ await\ \mbox{\hyperlink{class_c_y_d_1_1_pages_1_1_spendings_page_a3d51b3571e56690c2cee159fcef6568b}{LoadSpendings}}();\ \textcolor{comment}{//<-\/-\/-\/\ Ponowne\ za≥adowanie\ wydatkÛw.}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00069}00069\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00070}00070\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_spendings_page_8xaml_8cs_source_l00071}00071\ \}}

\end{DoxyCode}
